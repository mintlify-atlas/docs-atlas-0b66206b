---
title: Snacks UI Plugin
description: Enhanced UI features and smooth scrolling with Snacks.nvim
icon: candy
---

## Overview

Snacks.nvim is a collection of small, focused Neovim plugins that enhance the editor's UI and user experience. In nvim-luffy, it's primarily configured for smooth scrolling animations.

<Note>
  Snacks is loaded immediately with `lazy = false` and high priority to ensure UI enhancements are available from startup.
</Note>

## Features

<CardGroup cols={2}>
  <Card title="Smooth Scrolling" icon="arrows-up-down">
    Animated scrolling with customizable easing functions
  </Card>
  
  <Card title="High Priority Loading" icon="bolt">
    Loads before other plugins for immediate UI enhancement
  </Card>
  
  <Card title="Minimal Performance Impact" icon="gauge-high">
    Lightweight animations optimized for responsiveness
  </Card>
  
  <Card title="Extensible" icon="puzzle-piece">
    Part of a larger plugin suite with additional modules
  </Card>
</CardGroup>

## Configuration

The Snacks configuration is located at:

```
lua/leyland/plugins/snacks.lua
```

### Full Configuration

```lua
return {
  "folke/snacks.nvim",
  priority = 1000,
  lazy = false,
  opts = {
    scroll = {
      enabled = true,
      animate = {
        duration = { step = 10, total = 100 },
        easing = "linear",
      },
    },
  },
}
```

See `lua/leyland/plugins/snacks.lua:1-14`

## Smooth Scrolling

### Overview

The scroll module provides animated scrolling when navigating through code, making movements feel more natural and easier to track visually.

### Animation Settings

```lua
scroll = {
  enabled = true,
  animate = {
    duration = { step = 10, total = 100 },
    easing = "linear",
  },
}
```

See `lua/leyland/plugins/snacks.lua:6-12`

<Tabs>
  <Tab title="Duration">
    Controls the speed and smoothness of scroll animations:

    ```lua
    duration = { 
      step = 10,   -- Milliseconds per animation frame
      total = 100  -- Total animation duration in milliseconds
    }
    ```

    - `step`: Time between each frame (lower = smoother, higher CPU)
    - `total`: Overall animation length (lower = faster, higher = smoother)

    **Default:** 10ms steps over 100ms total (10 frames)
  </Tab>

  <Tab title="Easing">
    The easing function controls acceleration/deceleration:

    ```lua
    easing = "linear"  -- linear, quadratic, cubic
    ```

    **Options:**
    - `linear`: Constant speed throughout
    - `quadratic`: Gentle acceleration/deceleration
    - `cubic`: More pronounced easing effect

    **Default:** `linear` for predictable, consistent motion
  </Tab>

  <Tab title="Enabled">
    Toggle smooth scrolling on or off:

    ```lua
    enabled = true  -- or false to disable
    ```

    Set to `false` if you prefer instant jumps or experience performance issues.
  </Tab>
</Tabs>

## Customization

### Faster Scrolling

For snappier animations, reduce the total duration:

```lua
opts = {
  scroll = {
    enabled = true,
    animate = {
      duration = { step = 5, total = 50 },  -- Twice as fast
      easing = "linear",
    },
  },
}
```

### Smoother Scrolling

For silkier motion, increase total duration and use cubic easing:

```lua
opts = {
  scroll = {
    enabled = true,
    animate = {
      duration = { step = 10, total = 200 },  -- Longer animation
      easing = "cubic",                        -- Smooth easing
    },
  },
}
```

### Performance Mode

For lower-end machines, reduce frame rate:

```lua
opts = {
  scroll = {
    enabled = true,
    animate = {
      duration = { step = 20, total = 100 },  -- Fewer frames
      easing = "linear",
    },
  },
}
```

### Disable Scrolling

If you prefer instant navigation:

```lua
opts = {
  scroll = {
    enabled = false,  -- Disable smooth scrolling
  },
}
```

## Easing Functions Comparison

<CardGroup cols={3}>
  <Card title="Linear" icon="arrow-right">
    **Constant speed**
    
    Moves at the same rate from start to finish. Predictable and consistent.
    
    Best for: Short distances, professional feel
  </Card>
  
  <Card title="Quadratic" icon="chart-line">
    **Gentle curves**
    
    Starts slow, accelerates, then slows down. Natural feeling motion.
    
    Best for: Medium distances, balanced motion
  </Card>
  
  <Card title="Cubic" icon="wave-square">
    **Strong easing**
    
    Pronounced acceleration and deceleration. Smooth and polished.
    
    Best for: Long distances, cinematic feel
  </Card>
</CardGroup>

## Performance Considerations

### Animation Cost

Smooth scrolling uses CPU resources for animation frames. The configuration strikes a balance:

```lua
duration = { step = 10, total = 100 }
```

- **10 frames total** (100ms รท 10ms per step)
- **100 frames per second equivalent**
- **Minimal performance impact on modern hardware**

### When to Disable

Consider disabling smooth scrolling if:

- Running on very old hardware
- Using Neovim over SSH with high latency
- Experiencing input lag or stuttering
- Working with extremely large files (>10k lines)
- Running inside a VM with limited resources

<Note>
  The default configuration is optimized for modern laptops and desktops. Most users won't need to adjust these settings.
</Note>

## Plugin Loading

### Priority and Lazy Loading

```lua
priority = 1000,
lazy = false,
```

See `lua/leyland/plugins/snacks.lua:3-4`

- **priority = 1000**: Loads before most other plugins
- **lazy = false**: Loads immediately at startup

This ensures UI enhancements are active from the first keystroke.

### Why High Priority?

UI plugins like Snacks should load early to:

1. Provide consistent behavior from startup
2. Avoid visual glitches during initialization
3. Ensure smooth scrolling is active before other plugins trigger navigation

## Additional Snacks Modules

While nvim-luffy only enables smooth scrolling, Snacks.nvim includes other optional modules:

<CardGroup cols={2}>
  <Card title="Dashboard" icon="house">
    Alternative startup screen (nvim-luffy uses Alpha instead)
  </Card>
  
  <Card title="Notifier" icon="bell">
    Pretty notification system for messages
  </Card>
  
  <Card title="Quickfile" icon="file-lines">
    Fast file opening with minimal overhead
  </Card>
  
  <Card title="Words" icon="spell-check">
    Document highlighting and LSP references
  </Card>
</CardGroup>

### Enabling Additional Modules

Add more Snacks features to your configuration:

```lua
opts = {
  scroll = {
    enabled = true,
    animate = {
      duration = { step = 10, total = 100 },
      easing = "linear",
    },
  },
  -- Add notification support
  notifier = {
    enabled = true,
    timeout = 3000,
  },
  -- Add reference highlighting
  words = {
    enabled = true,
  },
}
```

## Usage

### Automatic Scrolling

Smooth scrolling activates automatically for all navigation commands:

<Tabs>
  <Tab title="Basic Motion">
    Standard navigation commands are automatically smoothed:

    - `Ctrl-D` / `Ctrl-U` - Half-page down/up
    - `Ctrl-F` / `Ctrl-B` - Full-page down/up
    - `gg` / `G` - Jump to top/bottom
    - `{` / `}` - Jump between paragraphs
  </Tab>

  <Tab title="Search Navigation">
    Search jumps are animated:

    - `n` / `N` - Next/previous search match
    - `*` / `#` - Search word under cursor
    - `/` - Forward search
    - `?` - Backward search
  </Tab>

  <Tab title="Jump List">
    Historical navigation is smoothed:

    - `Ctrl-O` - Jump to older position
    - `Ctrl-I` - Jump to newer position
    - `:jumps` - View jump list
  </Tab>

  <Tab title="Marks">
    Mark navigation animates:

    - `'a` - Jump to mark 'a'
    - `` `a `` - Jump to exact mark position
    - `''` - Jump to previous position
  </Tab>
</Tabs>

### No Special Commands Required

Smooth scrolling is transparent - use Neovim navigation as usual and enjoy the enhanced visual feedback.

## Troubleshooting

### Scrolling Feels Slow

Reduce the total duration:

```lua
duration = { step = 5, total = 50 }
```

### Scrolling Feels Choppy

Increase frame rate (decrease step time):

```lua
duration = { step = 5, total = 100 }  -- More frames
```

Or try a different easing function:

```lua
easing = "quadratic"  -- Smoother than linear
```

### Scrolling Causes Lag

Reduce animation complexity:

```lua
duration = { step = 20, total = 100 }  -- Fewer frames
easing = "linear"                       -- Simpler calculation
```

Or disable entirely:

```lua
scroll = { enabled = false }
```

### Conflicts with Other Plugins

Some scroll-related plugins may conflict. Disable Snacks scrolling if using:

- `neoscroll.nvim`
- `cinnamon.nvim`
- `sexy_scroller.vim`

```lua
scroll = { enabled = false }
```

### Not Working at All

Verify the plugin loaded:

```vim
:Lazy
```

Look for `snacks.nvim` in the list. If it's red or shows errors, try:

```vim
:Lazy sync
```

Check for error messages:

```vim
:messages
```

## Performance Benchmarks

Typical performance impact on a modern laptop:

| Setting | Frame Count | CPU Usage | Perceived Smoothness |
|---------|-------------|-----------|----------------------|
| `step=20, total=100` | 5 frames | &lt;1% | Basic |
| `step=10, total=100` | 10 frames | ~1% | Good (default) |
| `step=5, total=100` | 20 frames | ~2% | Very smooth |
| `step=10, total=200` | 20 frames | ~2% | Very smooth, slower |

<Note>
  The default configuration provides excellent smoothness with negligible performance cost on modern hardware.
</Note>

## Resources

<CardGroup cols={2}>
  <Card title="Snacks.nvim" icon="github" href="https://github.com/folke/snacks.nvim">
    Official plugin repository and full documentation
  </Card>
  
  <Card title="Folke's Plugins" icon="code" href="https://github.com/folke">
    Explore other high-quality Neovim plugins by the same author
  </Card>
  
  <Card title="Animation Easing" icon="wave-square" href="https://easings.net/">
    Visual guide to easing functions
  </Card>
  
  <Card title="Neovim UI" icon="terminal" href="https://neovim.io/doc/user/ui.html">
    Official Neovim UI documentation
  </Card>
</CardGroup>